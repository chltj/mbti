<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>íšŒì›ê°€ì…</title>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- ê³µí†µ CSS -->
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <!-- íšŒì›ê°€ì… ì „ìš© CSS -->
    <link rel="stylesheet" th:href="@{/css/signup.css}">
</head>
<body>

<div th:replace="fragments/header :: siteHeader"></div>

<div class="page-wrap">
    <h2 class="page-title">
        <span>ğŸ§‘â€ğŸ’»</span>
        <span>íšŒì›ê°€ì…</span>
    </h2>

    <p class="page-sub">
        ì•„ì´ë””ì™€ ì´ë©”ì¼ë¡œ ê³„ì •ì„ ë§Œë“¤ê³ <br>
        ì¹´ì¹´ì˜¤í†¡ MBTI ë¶„ì„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ ë³´ì„¸ìš”.
    </p>

    <div class="card login-card"><!-- ìŠ¤íƒ€ì¼ ì¬ì‚¬ìš© -->

        <form th:action="@{/signup}" method="post" class="normal-login-form">

            <!-- ì•„ì´ë”” -->
            <div class="form-row">
                <label class="form-label" for="loginId">ì•„ì´ë””</label>
                <input type="text" id="loginId" name="loginId"
                       class="form-input"
                       placeholder="ë¡œê·¸ì¸ì— ì‚¬ìš©í•  ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                       required>
            </div>
                <div class="form-row">
        <label class="form-label" for="nickname">ë‹‰ë„¤ì„</label>
        <input type="text" id="nickname" name="nickname"
               class="form-input"
               placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
    </div>

            <!-- ë¹„ë°€ë²ˆí˜¸ -->
            <div class="form-row">
                <label class="form-label" for="password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="password" name="password"
                       class="form-input"
                       placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                       required>
            </div>

            <!-- ë¹„ë°€ë²ˆí˜¸ í™•ì¸ -->
            <div class="form-row">
                <label class="form-label" for="passwordConfirm">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                <input type="password" id="passwordConfirm" name="passwordConfirm"
                       class="form-input"
                       placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ í•œ ë²ˆ ë” ì…ë ¥í•˜ì„¸ìš”"
                       required>
            </div>

            <!-- ì´ë©”ì¼ -->
            <div class="form-row">
                <label class="form-label" for="email">ì´ë©”ì¼</label>
                <input type="email" id="email" name="email"
                       class="form-input"
                       placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
                       required>
            </div>

            <!-- ì „í™”ë²ˆí˜¸ -->
            <div class="form-row">
                <label class="form-label" for="phone">ì „í™”ë²ˆí˜¸</label>
                <input type="text" id="phone" name="phone"
                       class="form-input"
                       placeholder="ì˜ˆ: 010-1234-5678"
                       required>
            </div>

            <!-- ì„œë²„ì—ì„œ ë„˜ì–´ì˜¨ íšŒì›ê°€ì… ì—ëŸ¬ ë©”ì‹œì§€ -->
            <p th:if="${signupError != null}"
               th:text="${signupError}"
               class="login-msg"
               style="display:block; color:#d9534f; margin-top:8px;">
            </p>

            <!-- ë¹„ë°€ë²ˆí˜¸ JS ì²´í¬ìš© ë©”ì‹œì§€ -->
            <p id="pw-msg" class="login-msg" style="display:none;"></p>

            <!-- íšŒì›ê°€ì… ë²„íŠ¼ -->
            <button type="submit" class="btn-submit full">
                íšŒì›ê°€ì…
            </button>
        </form>

        <!-- ë¡œê·¸ì¸ìœ¼ë¡œ ì´ë™ -->
        <div class="signup-box">
            ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?
            <a th:href="@{/login}" class="signup-link">ë¡œê·¸ì¸</a>
        </div>
    </div>
</div>

<div th:replace="fragments/footer :: siteFooter"></div>

<script>
    // ë¹„ë°€ë²ˆí˜¸/ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ê°„ë‹¨ ì²´í¬
    const form = document.querySelector('.normal-login-form');
    const pw = document.getElementById('password');
    const pw2 = document.getElementById('passwordConfirm');
    const pwMsg = document.getElementById('pw-msg');

    form.addEventListener('submit', function (e) {
        if (pw.value !== pw2.value) {
            e.preventDefault();
            pwMsg.style.display = 'block';
            pwMsg.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
            pwMsg.style.color = '#d9534f';
            pw2.focus();
        }
    });
</script>

</body>
</html>
